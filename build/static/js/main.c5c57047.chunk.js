(this["webpackJsonppart-2"]=this["webpackJsonppart-2"]||[]).push([[0],{41:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var c=n(17),r=n.n(c),a=n(1),s=n(0),i=function(e){var t=e.courses;return Object(s.jsx)("h1",{children:t})},o=function(e){var t=e.parts;return Object(s.jsx)(s.Fragment,{children:t.map((function(e){var t=e.name,n=e.exercises,c=e.id;return Object(s.jsx)("div",{children:Object(s.jsxs)("p",{children:[t," ",n]})},c)}))})},u=function(e){var t=e.parts;return Object(s.jsx)(o,{parts:t})},j=function(e){var t=e.parts.map((function(e){return e.exercises})).reduce((function(e,t){return e+t}));return Object(s.jsx)("p",{children:Object(s.jsxs)("strong",{children:["Number of exercises ",t," "]})})},d=function(e){var t=e.courses;return Object(s.jsx)(s.Fragment,{children:t.map((function(e){var t=e.id,n=e.name,c=e.parts;return Object(s.jsxs)("div",{children:[Object(s.jsx)(i,{courses:n}),Object(s.jsx)(u,{parts:c}),Object(s.jsx)(j,{parts:c})]},t)}))})},l=n(2),b=function(e){var t=e.persons,n=e.setPersonsSearch,c=Object(a.useState)(""),r=Object(l.a)(c,2),i=r[0],o=r[1];Object(a.useEffect)((function(){t.length&&n(t.filter((function(e){return e.name.includes(i)})))}),[t,i,n]);return Object(s.jsxs)("form",{children:["filter name shown with ",Object(s.jsx)("input",{type:"search",value:i,onChange:function(e){o(e.target.value)}})]})},h=n(5),O=function(e){var t=e.pers,n=e.toggleImportance,c=t.important?"make not important":"make important";return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("li",{children:[t.name,Object(s.jsx)("button",{onClick:n,children:c})]})})},m=n(4),p=n.n(m),f="api/persons",x=function(){return p.a.get(f).then((function(e){return e.data}))},g=function(e){return p.a.post(f,e).then((function(e){return e.data}))},v=function(e,t){return p.a.put("".concat(f,"/").concat(e),t).then((function(e){return e.data}))},w=function(e,t){return p.a.delete("".concat(f,"/").concat(e),t).then((function(e){return e.data}))},S=function(e){var t=e.setPersons,n=e.setNewName,c=e.setNewNumber,r=e.newName,i=e.newNumber,o=e.personsSearch,u=e.setConfigMsg,j=(e.setErrorMsg,Object(a.useState)(!1)),d=Object(l.a)(j,2),b=d[0],m=d[1];Object(a.useEffect)((function(){x().then((function(e){t(e)}))}),[t]);var p=b?o:o.filter((function(e){return e.important}));return Object(s.jsxs)("div",{children:[Object(s.jsxs)("button",{onClick:function(){return m(!b)},children:["show ",b?"important":"all"]}),p.map((function(e){return Object(s.jsx)(O,{pers:e,toggleImportance:function(){return function(e){var n=o.find((function(t){return t.id===e})),c=Object(h.a)(Object(h.a)({},n),{},{important:!n.important});v(e,c).then((function(n){t(o.map((function(t){return t.id!==e?t:n})))}))}(e.id)},setShowAll:m},e.id)})),Object(s.jsx)("br",{}),Object(s.jsxs)("form",{children:[Object(s.jsxs)("div",{children:["name:  ",Object(s.jsx)("input",{value:r,onChange:function(e){n(e.target.value)}})]}),Object(s.jsxs)("div",{children:["number:  ",Object(s.jsx)("input",{value:i,onChange:function(e){c(e.target.value)}})]})]}),Object(s.jsx)("button",{onClick:function(e){!function(e){e.preventDefault();var a=o.filter((function(e){return e.name===r})),s=a[0],j=Object(h.a)(Object(h.a)({},s),{},{number:i});if(0!==a.length)s.name===r&&window.alert("".concat(s.name," is already added to the phonebook")),window.confirm("".concat(s.name," is already added to the phonebook, update phone number?"))&&v(j.id,j).then((function(e){t(o.map((function(t){return t.id!==s.id?t:e}))),n(""),c(""),u("".concat(j.name," was successfully updated")),setTimeout((function(){u(null)}),5e3)}));else{var d={name:r,number:i,date:(new Date).toISOString(),important:Math.random()<.5};g(d).then((function(e){t(o.concat(e)),n(""),c(""),u("".concat(r," was successfully added")),setTimeout((function(){u(null)}),5e3)}))}}(e)},type:"submit",children:"add"})]})},k=function(e){var t=e.personsSearch,n=e.persons,c=e.setPersons,r=e.setErrorMsg;return Object(s.jsx)(s.Fragment,{children:t.map((function(e){return Object(s.jsxs)("div",{children:[Object(s.jsxs)("p",{children:[e.name," ",e.number]}),Object(s.jsx)("button",{onClick:function(){window.confirm("delete ".concat(e.name))&&function(e){var t=n.length&&n.find((function(t){return t.id===e})),a=Object(h.a)(Object(h.a)({},t),{},{id:t.id});w(e,a).then((function(e){c(e)})).catch((function(e){r("".concat(a," was already deleted from server")),setTimeout((function(){r(null)}),5e3)})),x().then((function(e){c(e)}))}(e.id)},children:"delete "})]},e.id)}))})},N=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),i=Object(l.a)(r,2),o=i[0],u=i[1],j=Object(a.useState)(""),d=Object(l.a)(j,2),h=d[0],O=d[1],m=Object(a.useState)(""),p=Object(l.a)(m,2),f=p[0],x=p[1],g=Object(a.useState)(""),v=Object(l.a)(g,2),w=v[0],N=v[1],C=Object(a.useState)(""),E=Object(l.a)(C,2),y=E[0],M=E[1];return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Phonebook"}),w?Object(s.jsx)("h3",{className:"".concat(w?"erorr":""),children:w}):Object(s.jsx)("h3",{className:"".concat(y?"success":""),children:y}),Object(s.jsxs)("div",{children:[Object(s.jsx)(b,{persons:n,setPersonsSearch:u}),Object(s.jsx)("br",{}),Object(s.jsx)("h3",{children:" Add new contact"}),Object(s.jsx)(S,{setPersons:c,newName:h,setNewName:O,newNumber:f,setNewNumber:x,personsSearch:o,setConfigMsg:M,setErrorMsg:N})]}),Object(s.jsx)("h2",{children:"Numbers"}),Object(s.jsx)(k,{personsSearch:o,persons:n,setPersons:c,setErrorMsg:N})]})},C=function(e){var t=e.countries,n=e.search,c=e.setSearch,r=e.setSearchData;Object(a.useEffect)((function(){r(t.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())})))}),[t,n,r]);return Object(s.jsxs)("form",{children:["find countries ",Object(s.jsx)("input",{type:"search",value:n,onChange:function(e){var t;c(null!==(t=e.target.value)&&void 0!==t?t:null)}})]})},E=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(),i=Object(l.a)(r,2),o=i[0],u=i[1],j=Object(a.useState)(""),d=Object(l.a)(j,2),b=d[0],h=d[1],O=Object(a.useState)([]),m=Object(l.a)(O,2),f=m[0],x=m[1],g=Object(a.useState)(""),v=Object(l.a)(g,2),w=v[0],S=v[1],k=Object(a.useState)(!1),N=Object(l.a)(k,2),E=N[0],y=N[1],M="4cf05a3c3cb9c49ac1fcd1cbf0d09145";Object(a.useEffect)((function(){p.a.get("https://restcountries.com/v2/all").then((function(e){c(e.data)}))}),[]),Object(a.useEffect)((function(){p.a.get("http://api.openweathermap.org/data/2.5/weather?q=".concat(f.map((function(e){return e.capital})),"&appid=").concat(M)).then((function(e){u(e.data)}))}),[M,f,f.capital,E]);return Object(s.jsxs)("div",{children:[Object(s.jsx)(C,{countries:n,search:b,setSearch:h,searchData:f,setSearchData:x}),f.map((function(e){var t,n,c,r;return Object(s.jsxs)("div",{children:[1===f.length&&E&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h3",{children:e.name}),Object(s.jsxs)("p",{children:["capital ",e.capital]}),Object(s.jsxs)("p",{children:["population ",e.population]}),Object(s.jsx)("br",{}),Object(s.jsx)("h4",{children:"Spoken languages: "}),Object(s.jsx)("ul",{children:e.languages.map((function(e){return Object(s.jsx)("li",{children:e.name},e.name)}))}),Object(s.jsx)("br",{}),Object(s.jsxs)("h4",{children:["Weather in ",e.capital,": "]}),Object(s.jsxs)("div",{children:["Temperature: ",Math.round(10*((null===o||void 0===o||null===(t=o.main)||void 0===t?void 0:t.temp)-273.15))/10," celcius"]}),Object(s.jsxs)("div",{children:["Wind speed ",null===o||void 0===o||null===(n=o.wind)||void 0===n?void 0:n.speed," km/h"]}),Object(s.jsx)("img",{src:e.flag,alt:e.name,width:"200px"})]}),f.length<10&&f.length>1&&Object(s.jsxs)("div",{children:[" ",e.name,e.name===w&&E&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("p",{children:["capital ",e.capital]}),Object(s.jsxs)("p",{children:["population ",e.population]}),Object(s.jsxs)("h4",{children:["languages:",Object(s.jsx)("ul",{children:e.languages.map((function(e){return Object(s.jsx)("li",{children:e.name},e.name)}))})]}),Object(s.jsx)("br",{}),Object(s.jsx)("img",{src:e.flag,alt:e.name,width:"200px"}),Object(s.jsxs)("h4",{children:["Weather in ",e.capital,": "]}),Object(s.jsxs)("div",{children:["Temperature: ",Math.round(10*((null===o||void 0===o||null===(c=o.main)||void 0===c?void 0:c.temp)-273.15))/10," celcius"]}),Object(s.jsxs)("div",{children:["Wind speed ",null===o||void 0===o||null===(r=o.wind)||void 0===r?void 0:r.speed," km/h"]})]}),Object(s.jsx)("button",{onClick:function(){!function(e){S(e.name)}(e),y(!E)},children:"show"})]}),f.length>10&&Object(s.jsxs)("div",{children:[" ",e.name]})]},e.name)}))]})};n(41);var y=function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h3",{style:{padding:"0.25rem 0.5rem",background:"lightblue",color:"black",width:"max-content"},children:"Exercises 2.1.-2.5."}),Object(s.jsx)(d,{courses:[{name:"Half Stack application development",id:1,parts:[{name:"Fundamentals of React",exercises:10,id:1},{name:"Using props to pass data",exercises:7,id:2},{name:"State of a component",exercises:14,id:3},{name:"Redux",exercises:11,id:4}]},{name:"Node.js",id:2,parts:[{name:"Routing",exercises:3,id:1},{name:"Middlewares",exercises:7,id:2}]}]}),Object(s.jsx)("hr",{}),Object(s.jsx)("h3",{style:{padding:"0.25rem 0.5rem",background:"lightblue",color:"black",width:"max-content"},children:"Exercises 2.6.-2.10."}),Object(s.jsx)(N,{}),Object(s.jsx)("hr",{}),Object(s.jsx)("h3",{style:{padding:"0.25rem 0.5rem",background:"lightblue",color:"black",width:"max-content"},children:"Exercises 2.11.-2.14."}),Object(s.jsx)(E,{}),Object(s.jsx)("hr",{})]})};r.a.render(Object(s.jsx)(y,{}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.c5c57047.chunk.js.map